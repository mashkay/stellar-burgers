# Проектная работа 11-го спринта

[Макет](<https://www.figma.com/file/vIywAvqfkOIRWGOkfOnReY/React-Fullstack_-Проектные-задачи-(3-месяца)_external_link?type=design&node-id=0-1&mode=design>)

[Чеклист](https://www.notion.so/praktikum/0527c10b723d4873aa75686bad54b32e?pvs=4)

## Этапы работы:

1. Разверните проект и ознакомьтесь с кодом. Все необходимые вам компоненты уже созданы и лежат в папке `src/components`

2. Настройте роутинг.

3. Напишите функционал запросов данных с сервера, используя `Redux` и глобальный `store`. Сами "ручки" уже прописаны и лежат в `utils/burger-api.ts`

4. Настройте авторизацию и создайте защищённые роуты.

## Важно:

Для корректной работы запросов к серверу необходимо добавить переменную BURGER_API_URL в окружение. Сама ссылка находится в файле `.env.example`.

## Tests

### Настроено тестирование приложения

- Функциональность из задания и чек-листа предыдущей работы реализована корректно и всё ещё работает.
- В проект добавлены и настроены библиотеки Cypress и Jest.
- В разделе scripts файла package.json описаны команды запуска Cypress и Jest тестов.
- Тесты, относящиеся к проверке одной функциональности, объединены блоком describe. В нём описано, что проверяет этот набор тестов.
- В каждом тесте есть корректное описание того, что именно проверяет этот тест.
- Тесты содержат набор проверок, которого достаточно для проверки правильности работы тестируемой функциональности.
- В файлах тестов единообразное форматирование кода и соблюдаются соглашения об именованиях используемые на прошлых спринтах.
- Все тесты написаны на TypeScript.
- Все тесты завершаются успешно.

### Тесты на Cypress

- Написаны тесты, проверяющие следующую функциональность:
  - Добавление ингредиента из списка ингредиентов в конструктор.
  - Открытие и закрытие модального окна с описанием ингредиента.
  - Отображение в открытом модальном окне данных именно того ингредиента, по которому произошел клик.
  - Процесс создания заказа: добавление ингредиентов в конструктор бургера, проверка отображения модального окна с верным номером заказа при клике на кнопку оформления заказа. Проверка очистки конструктора бургера от добавленных ингредиентов.
- В папке cypress/fixtures созданы файлы с данными ответов на запросы, которые используются для подмены запросов к реальному бэкенду.
- Настроен перехват с помощью cy.intercept всех запросов к бэкенду, выполняемых во время запуска тестов.
- Перед выполнением теста создания заказа в localStorage и сookie подставляются фейковые токены авторизации, а после завершения теста они очищаются.

### Тесты на Jest:

- Файлы Jest тестов находятся радом с файлом, который они тестируют, или в отдельной папке \_\_tests\_\_.
- Написан тест, проверяющий правильную настройку и работу rootReducer: вызов rootReducer с undefined состоянием и экшеном, который не обрабатывается ни одним редьюсером (например, { type: 'UNKNOWN_ACTION' }), возвращает корректное начальное состояние хранилища.
- Написаны тесты, проверяющие работу редьюсера конструктора бургера при обработке экшенов добавления и удаления ингредиента.
- Написаны тесты, проверяющие обработку редьюсером экшенов генерируемых при выполнении асинхронного запроса: экшены начала запроса, успешного выполнения запроса и ошибки запроса.
